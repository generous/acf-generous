!function(a){var b=function(b){var c,d=this,e={},f=".acf-generous-slider--search",g=a(f+"-account",b).val(),h=a(f+"-input-title",b),i=a(f+"-input-id",b),j=a(f+"-results",b);return this.init=function(){return"undefined"!=typeof g&&""!==g&&(d.prepare(),d.bind()),d},this.prepare=function(){""===i.val()?(e.id=!1,e.title=!1):(e.id=i.val(),e.title=h.val())},this.bind=function(){h.keyup(function(){var b=a(this).val();d.clearTimer(),""!==b?c=setTimeout(function(){d.request(b)},250):(d.clearTimer(),d.resetResults(),d.removeSelection())}),h.blur(function(){setTimeout(function(){d.clearTimer(),d.resetResults(),e.id===!1?d.removeSelection():h.val(e.title)},300)})},this.request=function(b){a.ajax({type:"GET",url:"https://api.genero.us/v0/accounts/"+g+"/search",data:{term:b},dataType:"json",success:function(a){d.output(a,h)}})},this.output=function(a,b){if(""!==b.val()&&(d.resetResults(),!a.error))for(var c=0;c<a.length;c++){var e=d.create(a[c]);j.append(e)}},this.create=function(b){var c=a("<div>").addClass("acf-generous-slider--search-result").attr("data-slider-id",b.id).text(b.title);return c.on("click",function(){d.setSelection(b.id,b.title),d.resetResults()}),c},this.setSelection=function(a,b){i.val(a),h.val(b),e.id=a,e.title=b},this.removeSelection=function(){d.setSelection("",""),e.id=!1,e.title=!1},this.resetResults=function(){j.html("")},this.clearTimer=function(){clearInterval(c)},this.init()};"undefined"!=typeof acf.add_action?acf.add_action("ready append",function(c){acf.get_fields({type:"generous_slider"},c).each(function(){new b(a(this))})}):a(document).live("acf/setup_fields",function(c,d){a(d).find('.field[data-field_type="generous_slider"]').each(function(){new b(a(this))})})}(jQuery);